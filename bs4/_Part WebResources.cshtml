@inherits Custom.Hybrid.Razor12
@{
  // Basics / Preparation
  var pageCss = GetService<Connect.Koi.ICss>();         // Service to get CSS information about the current Theme
  var page = GetService<ToSic.Sxc.Web.IPageService>();  // Service to set titles etc. on the page

  // show warning for admin if koi.json is missing 
  if(pageCss.IsUnknown && CmsContext.User.IsSiteAdmin) {
    <div class='dnnFormMessage dnnFormWarning'>
      @Html.Raw(Connect.Koi.Messages.CssInformationMissing) <br>
      @Html.Raw(Connect.Koi.Messages.OnlyAdminsSeeThis)
    </div>
  }

  // Include styles of the App
  <link rel="stylesheet" href="@App.Path/dist/bs4.min.css" data-enableoptimizations="true" />

  // Include bootstrap 4 if the framework isn't known - then this file is still called, and we add Bootstrap to the page
  if(!pageCss.Is("bs4")) {
    page.Activate("Bootstrap4");  // see https://r.2sxc.org/turnon - Bootstrap4 is a standard WebResources in 2sxc
  }

  if(DynamicModel.scripts == true) {
    page.Activate("turnOn", "fancybox4"); // see https://r.2sxc.org/turnon - fancybox4 is a standard WebResources in 2sxc
    <script type="text/javascript" src="@App.Path/dist/scripts.min.js" data-enableoptimizations="bottom"></script>
    <turnOn turn-on='{"await": ["window.Fancybox"], "run": "window.appGalleryV7.initFancybox()", "data": { "groupId": "@CmsContext.Module.Id", "options": { "groupAll": true, "Thumbs": {"autoStart": false}}}}'></turnOn>
  }
}
